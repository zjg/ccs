
BIN_NAME = ccsd

ifeq ($(TUP_CWD),.)

   include_rules

   include $(IPC_DIR)/Tupfile
   include clangLib/Tupfile
   
   MOCCABLE += CCSMessaging.h
   MOCCABLE += CodeCompletionService.h
   MOCCABLE += FileChangeNotifier.h
   MOCCABLE += TranslationUnitManager.h
   
   : foreach $(MOCCABLE) | $(GENERATED_FILES) |> !moc |> {moc_out}
   : foreach *.cxx | $(GENERATED_FILES) {moc_out} |> !cxx |> {cxx_out}
   : {cxx_out} $(STATIC_LIBS) |> !ld |> $(BIN_NAME)

else

   # GENERATED_FILES += 
   INCLUDES += -I$(TUP_CWD)

endif

